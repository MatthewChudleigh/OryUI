@page "/identities/create"
@attribute [StreamRendering(true)]
@inject ICustomTranslator Translator
@inject ILogger<Home> Logger
@inject NavigationManager Navigation
@attribute [RenderModeServer]

<PageTitle>Identities</PageTitle>

<section class="section mt-5">
    <h1 class="title">Create Identity</h1>
    @if (_isLoading)
    {
        // is loading
        <p>Loading data...</p>
    }
    else
    {
        <form @onsubmit="SubmitForm">
            @foreach (var schema in _traitsSchemas!)
            {
                <div class="field">
                    <label class="label">
                        @schema.Schema.Title
                        <div class="control">
                            <input type="text" class="input"
                                   id="@schema.Schema.Id" value="asdf"/>
                        </div>
                    </label>
                </div>
            }
            <div class="message is-warning p-2 @(string.IsNullOrWhiteSpace(_errorMessage) ? "is-hidden" : "")">
                @_errorMessage
            </div>
            <div class="mt-5">
                <div class="buttons">
                    <NavLink class="button" href="identities">
                        Cancel
                    </NavLink>
                    <button type="submit" class="button is-success">
                        Save
                    </button>
                </div>
            </div>
        </form>
    }
</section>